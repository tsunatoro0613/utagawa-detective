<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>宇多川探偵事務所</title>

<style>
body{
    font-family: "HGP創英角ﾎﾟｯﾌﾟ体","MS PGothic",sans-serif;
    background: linear-gradient(45deg, red, orange, yellow, green, cyan, blue, purple);
    color:white;
    text-shadow: 2px 2px 5px black;
}

h1,h2{
    text-align:center;
    font-size:40px;
    color:yellow;
    text-shadow:
        -2px -2px 0 red,
        2px -2px 0 red,
        -2px 2px 0 red,
        2px 2px 0 red,
        4px 4px 10px black;
}

nav{
    text-align:center;
    margin:20px;
}

nav button{
    font-size:20px;
    padding:10px 20px;
    margin:5px;
    background:magenta;
    color:white;
    border:5px ridge yellow;
    cursor:pointer;
}

section{
    padding:20px;
    background:rgba(0,0,0,0.5);
    border:5px double white;
    margin:20px;
}

img{
    max-width:300px;
    border:10px ridge pink;
}

.small{
    font-size:12px;
    color:lightyellow;
}

.edit{
    display:none;
    background:black;
    color:lime;
    margin-top:10px;
}

textarea{
    width:100%;
    height:100px;
}
</style>

<script>
function showPage(id){
    document.querySelectorAll("section").forEach(s=>s.style.display="none");
    document.getElementById(id).style.display="block";
}

function toggleDetail(id){
    const e=document.getElementById(id);
    e.style.display = e.style.display==="none"?"block":"none";
}

function updateText(id,textareaId){
    document.getElementById(id).innerHTML =
        document.getElementById(textareaId).value;
}

function generateMap(){
    const canvas=document.getElementById("mapCanvas");
    const ctx=canvas.getContext("2d");

    ctx.fillStyle="lightyellow";
    ctx.fillRect(0,0,300,200);

    ctx.fillStyle="black";
    ctx.font="14px sans-serif";

    ctx.strokeStyle="gray";
    ctx.lineWidth=20;
    ctx.beginPath();
    ctx.moveTo(0,100);
    ctx.lineTo(300,100);
    ctx.stroke();

    ctx.lineWidth=20;
    ctx.beginPath();
    ctx.moveTo(150,0);
    ctx.lineTo(150,200);
    ctx.stroke();

    ctx.fillStyle="red";
    ctx.fillRect(200,50,50,50);
    ctx.fillStyle="black";
    ctx.fillText("招福ビル4F",185,45);

    ctx.fillStyle="blue";
    ctx.fillRect(20,130,60,40);
    ctx.fillStyle="black";
    ctx.fillText("○○駅",20,125);
}

// Ctrl+Eで編集モード表示
document.addEventListener("keydown",function(e){
    if(e.ctrlKey && e.key==="e"){
        document.querySelectorAll(".edit").forEach(el=>{
            el.style.display = el.style.display==="none"?"block":"none";
        });
        alert("✨裏編集モード✨");
    }
});
</script>

</head>

<body onload="generateMap();">

<h1>★☆ 宇多川探偵事務所 ☆★</h1>

<nav>
<button onclick="showPage('home')">ホーム</button>
<button onclick="showPage('cases')">過去の事件</button>
<button onclick="showPage('recruit')">助手募集</button>
</nav>

<!-- ホーム -->
<section id="home" style="display:block;">

<h2>ようこそ！宇多川探偵事務所へ！</h2>

<h3 id="introName">宇多川絵馬</h3>

<img src="ema.png" alt="宇多川絵馬">

<p id="introText">
26歳<br>
誕生日：9/21（おとめ座）<br>
趣味：秘湯巡り、サイクリング、ミニチュア雑貨集め<br>
好きな食べ物：ショートケーキ<br>
好きな言葉：一期一会
</p>

<div class="edit">
<h3>【編集モード】自己紹介編集</h3>
<textarea id="editIntro"></textarea>
<button onclick="updateText('introText','editIntro')">更新する</button>
</div>

<h2>アクセス</h2>

<p>
宇多川探偵事務所<br>
東京都○○区××1丁目□-□ 招福ビル4階
</p>

<canvas id="mapCanvas" width="300" height="200"></canvas>

</section>

<!-- 過去の事件 -->
<section id="cases" style="display:none;">

<h2>過去の事件</h2>

<h3>Case1―廃病院の怪</h3>
<p>助手：中野 祐</p>
<button onclick="toggleDetail('case1')">詳細</button>
<p class="small">※「S病院跡地」のネタバレを含む</p>
<div id="case1" style="display:none;">
生還報酬：SAN回復1d6
</div>

<hr>

<h3>Case2―七不思議ホラーRTA</h3>
<p>助手：黒藻月 三日/忍</p>
<button onclick="toggleDetail('case2')">詳細</button>
<p class="small">※「七不思議ホラーRTA」のネタバレを含む</p>
<div id="case2" style="display:none;">
生還報酬：<br>
・SAN値→1d10+10+【ループした回数】
</div>

</section>

<!-- 助手募集 -->
<section id="recruit" style="display:none;">

<h2>助手募集中！</h2>

<p>
時給2000円＋各種手当<br><br>
未経験大歓迎！アットホームな職場です！<br><br>
1年以上の長期で働いてくれる助手を大募集中！
</p>

<div style="text-align:center;font-size:30px;">
✨今すぐ応募しよう！！✨
</div>

</section>

</body>
</html>
